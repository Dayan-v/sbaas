d3_tile=function(){this.containerid="container",this.tileid="",this.rowid="",this.colid="",this.rowclass="",this.colclass="",this.tile=null,this.width=1,this.height=1},d3_tile.prototype.set_tileid=function(t){this.tileid=t},d3_tile.prototype.set_rowid=function(t){this.rowid=t},d3_tile.prototype.set_colid=function(t){this.colid=t},d3_tile.prototype.set_rowclass=function(t){this.rowclass=t},d3_tile.prototype.set_colclass=function(t){this.colclass=t},d3_tile.prototype.add_tile2container=function(){var t=d3.select("#"+this.containerid).append("div").attr("class",this.rowclass).attr("id",this.rowid),e=t.append("div").attr("class",this.colclass).attr("id",this.colid);this.tile=e.append("div").attr("id",this.tileid)},d3_tile.prototype.add_tile2col=function(){var t=d3.select("#"+this.rowid).append("div").attr("class",this.colclass).attr("id",this.colid);this.tile=t.append("div").attr("id",this.tileid)},d3_tile.prototype.set_height=function(){},d3_tile.prototype.add_draganddrop=function(){},d3_tile.prototype.add_textarea=function(t,e){if(e)var a=e;else var a=20;var s=this.tileid,n=d3.select("#"+s).append("div").attr("class","row").attr("id",s+"textarearow");for(i=0;i<t.length;i++){var r=n.append("div").attr("class","col-sm-12").attr("id",s+"textareacol"+t[i].text);r.append("form").attr("id",s+"textarea"+t[i].text),r.text(t[i].text).append("br"),r.append("input").attr("value",t[i].value).attr("size",a)}},d3_tile.prototype.update_textarea=function(t){var e=this.tileid;for(i=0;i<t.length;i++)d3.select("#"+e+"textareacol"+t[i].text+" input").node().value=t[i].value},d3_tile.prototype.add_checkbox=function(){},d3_tile.prototype.add_color=function(){},d3_tile.prototype.add_range=function(){},d3_tile.prototype.add_submitbutton=function(t){if(t)var e=t;else var e={id:"submit1",text:"submit"};{var a=this.tileid,i=d3.select("#"+a).append("div").attr("class","row");i.append("div").attr("class","col-sm-3").append("button").attr("class","btn btn-default column-button").attr("id",a+"submitbutton"+e.id).text(e.text)}},d3_tile.prototype.add_table=function(){},d3_tile.prototype.add_svg=function(){},d3_tile.prototype.remove_tile=function(){var t=this.tileid;d3.selectAll("#"+t).remove(),this.tile=null},d3_tile.prototype.add_datalist2tile=function(){this.tileid},d3_tile.prototype.add_title=function(t){{var e=this.tileid;d3.select("#"+e).append("div").attr("class","row").append("div").attr("class","col-sm-12").append("div").attr("id",e+"title-box").append("h3").attr("id",e+"title").text(t)}},d3_tile.prototype.add_removebutton=function(){function t(){d3.selectAll("#"+e).remove(),a.tile=null}{var e=this.tileid,a=this,i=(this.remove_tile,d3.select("#"+e).append("div").attr("class","row"));i.append("div").attr("class","col-sm-3").append("button").attr("class","btn btn-default column-button").attr("id",e+"removebutton").text("remove").on("click",t)}};var d3_data=function(){this.keys=[],this.nestkey="",this.filters={},this.listdata=[],this.listdatafiltered=[],this.nestdatafiltered=[]};d3_data.prototype.add_nestkey=function(t){return function(e){return e[t]}},d3_data.prototype.convert_list2nestlist=function(t,e,a){var s=this.add_nestkey,n=d3.nest();for(i=0;i<e.length;i++)n=n.key(s(e[i]));return a&&(n=n.rollup(a)),n=n.entries(t)},d3_data.prototype.convert_list2nestmap=function(t,e){var a=d3.nest().key(function(t){return t[e]}).map(t);return a},d3_data.prototype.filter_stringdata=function(){var t=this.listdata,e=[];for(i=0;i<t.length;i++)t[i].used_=!0;for(i=0;i<t.length;i++)for(filter in this.filters){var a=t[i][filter].toString();a.match(this.filters[filter].join("|"))||(t[i].used_=!1)}t.forEach(function(t){t.used_&&e.push(t)}),this.listdatafiltered=e,this.nestdatafiltered=this.convert_list2nestlist(e,this.nestkey),this.update_filters()},d3_data.prototype.set_listdata=function(t,e){this.nestkey=e,this.listdata=t,this.listdatafiltered=t,this.nestdatafiltered=this.convert_list2nestlist(t,this.nestkey)},d3_data.prototype.set_keys=function(t){this.keys=t},d3_data.prototype.reset_filters=function(){var t={};for(key_cnt=0;key_cnt<this.keys.length;key_cnt++){var e=d3.set();for(i=0;i<this.listdata.length;i++)e.add(this.listdata[i][this.keys[key_cnt]]);t[this.keys[key_cnt]]=e.values()}this.filters=t},d3_data.prototype.update_filters=function(){var t={};for(key_cnt=0;key_cnt<this.keys.length;key_cnt++){var e=d3.set();for(i=0;i<this.listdatafiltered.length;i++)e.add(this.listdatafiltered[i][this.keys[key_cnt]]);t[this.keys[key_cnt]]=e.values()}this.filters=t},d3_data.prototype.clear_data=function(){this.listdata=[],this.listdatafiltered=[],this.nestdatafiltered=[]},d3_data.prototype.change_filters=function(t){for(key in t)this.filters[key]=t[key]},d3_data.prototype.format_keyvalues2namechildren=function(t){function e(a){if(a.key)a.name=a.key,delete a.key;else{lastchild=a[t];for(key in a)delete a[key];a.name=lastchild}a.values&&(a.children=a.values,a.children.forEach(e),delete a.values)}this.nestdatafiltered.forEach(e)},d3_data.prototype.convert_filter2stringmenuinput=function(){var t=[];for(key in this.filters)t.push({text:key,value:this.filters[key].toString()});return t},d3_data.prototype.convert_stringmenuinput2filter=function(t){for(i=0;i<t.length;i++)this.filters[t[i].text]=t[i].value.split(",")},d3_data.prototype.change_nestkeys=function(t){this.nestkey=t;var e=this.listdatafiltered;this.nestdatafiltered=this.convert_list2nestlist(e,t)},d3_svg=function(){this.id="",this.tileid="",this.svgelement=null,this.svgg=null,this.margin={},this.width=1,this.height=1},d3_svg.prototype.set_tileid=function(t){this.tileid=t},d3_svg.prototype.set_id=function(t){this.id=t},d3_svg.prototype.set_margin=function(t){this.margin=t},d3_svg.prototype.set_width=function(t){this.width=t},d3_svg.prototype.set_height=function(t){this.height=t},d3_svg.prototype.add_svgelement2tile=function(){this.svgelement=d3.select("#"+this.tileid).append("svg").attr("id",this.id),this.svgelement.attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom),this.svgg=this.svgelement.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")")},d3_svg.prototype.add_svgexportbutton2tile=function(){var t=d3.select("#"+this.tileid).append("form"),e=t.append("label");e.text("Export as SVG");var a=t.append("input");a.attr("type","button").attr("value","Download"),a.on("click",this.export_svgelement)},d3_svg.prototype.export_svgelement=function(){function t(t){return window.btoa(unescape(encodeURIComponent(t)))}{var e,a,s=!0,n=document.createElement("a");this.id}n.download="figure.svg";var r=d3.select(this.parentNode),l=r.node().parentNode,d=null;for(i=0;i<l.children.length;i++)"svg"===l.children[i].nodeName&&(d=i);e=(new XMLSerializer).serializeToString(l.children[d]),s&&(e=vkbeautify.xml(e)),e='<?xml version="1.0" encoding="utf-8"?>\n             <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n         "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+e,n.setAttribute("href-lang","image/svg+xml"),n.href="data:image/svg+xml;base64,"+t(e),a=document.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!1,self,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(a)},d3_svg.prototype.add_datalist2tile=function(t){var e=this.tileid,a=d3.select("#"+this.tileid).append("select").attr("id",e+"datalist");for(i=0;i<t.length;i++)a.append("option").attr("value",t[i].value).text(t[i].text)},d3_svg.prototype.add_data1filtermenusubmitbutton=function(t,e){function a(){var t=[];for(key in n.data1.filters){var e=d3.select("#"+i+"textareacol"+key).text(),a=d3.select("#"+i+"textareacol"+key+" input").node().value;t.push({text:e,value:a})}n.data1.convert_stringmenuinput2filter(t),n.data1.filter_stringdata(),n.render()}if(t)var i=t;else var i=this.tileid;if(e)var s=e;else var s=this.submitbuttonid;var n=this;this.submitbutton=d3.select("#"+i+"submitbutton"+s).on("mousedown",a)},d3_svg.prototype.add_data1filtermenuresetbutton=function(t,e){function a(){n.data1.reset_filters(),n.data1.filter_stringdata(),n.render()}if(t)var i=t;else var i=this.tileid;if(e)var s=e;else var s=this.resetbuttonid;var n=this;this.resetbutton=d3.select("#"+i+"submitbutton"+s).on("click",a)},d3_chart2d=function(){d3_svg.call(this),this.duration=1,this.x1scale=null,this.y1scale=null,this.x2scale=null,this.y2scale=null,this._x1axis=null,this._x2axis=null,this._y1axis=null,this._y2axis=null,this.x1axis=null,this.x2axis=null,this.y1axis=null,this.y2axis=null,this.colorscale=null,this.data1=null,this.data2=null,this.clippath=null,this.title=null,this.x1axisgridlines=null,this.y1axisgridlines=null,this.x1axisgridlinesenter=null,this.y1axisgridlinesenter=null,this.tooltip=null,this.render=null,this.filterdata1and2=!1,this.keymap={}},d3_chart2d.prototype=Object.create(d3_svg.prototype),d3_chart2d.prototype.constructor=d3_chart2d,d3_chart2d.prototype.set_filterdata1and2=function(t){this.filterdata1and2=t},d3_chart2d.prototype.add_chart2d2tile_packlayoutcircle=function(){this.svgelement=d3.select("#"+this.tileid).selectAll("svg").data([this.data1.listdatafiltered]),this.svgenter=this.svgelement.enter().append("svg").attr("id",this.id).append("g").attr("transform","translate("+this.width/2+","+this.width/2+")"),this.svgelement.attr("width",this.width).attr("height",this.height),this.svgg=this.svgelement.select("g")},d3_chart2d.prototype.add_chart2d2tile=function(){var t=this.width,e=this.height,a=this.margin,i=this.tileid,s=this.id,n=this.data1.listdatafiltered;this.svgelement=d3.select("#"+i).selectAll("svg").data([n]),this.svgenter=this.svgelement.enter().append("svg").attr("id",s).append("g").attr("transform","translate("+a.left+","+a.top+")"),this.svgelement.attr("width",t+a.left+a.right).attr("height",e+a.top+a.bottom),this.svgg=this.svgelement.select("g")},d3_chart2d.prototype.add_title=function(t){this.title=this.svgg.append("text").attr("x",this.width/2).attr("y",-this.margin.top/2).attr("class","title").attr("id",this.id+"title").style("text-anchor","middle").text(t)},d3_chart2d.prototype.remove_title=function(){this.title.remove(),this.title=null},d3_chart2d.prototype.add_clippath=function(){this.clippath=this.svgenter.append("clippath").attr("class","clippath").attr("id",this.id+"clippath").append("rect").attr("width",this.width).attr("height",this.height).style("pointer-events","all")},d3_chart2d.prototype.remove_clippath=function(){this.clippath.node().parentNode.remove(),this.clippath=null},d3_chart2d.prototype.set_x1range=function(t){"linear"===t?this.x1scale=d3.scale.linear().range([0,this.width]):"ordinal"===t?this.x1scale=d3.scale.ordinal():"ordinal-rangeRoundBands"===t&&(this.x1scale=d3.scale.ordinal().rangeRoundBands([0,this.width],.1))},d3_chart2d.prototype.set_y1range=function(t){"linear"===t&&(this.y1scale=d3.scale.linear().range([this.height,0]))},d3_chart2d.prototype.set_x2range=function(t){"linear"===t?this.x2scale=d3.scale.linear().range([0,this.width]):"ordinal"===t?this.x2scale=d3.scale.ordinal():"ordinal-rangeRoundBands"===t&&(this.x2scale=d3.scale.ordinal().rangeRoundBands([0,this.width],.1))},d3_chart2d.prototype.set_y2range=function(t){"linear"===t&&(this.y2scale=d3.scale.linear().range([this.height,0]))},d3_chart2d.prototype.add_data1=function(t){this.data1=t},d3_chart2d.prototype.add_data2=function(t){this.data2=t},d3_chart2d.prototype.set_x1domain=function(){var t=this.data1keymap.xdata,e=this;this.x1scale.domain(d3.extent(e.data1.listdatafiltered,function(e){return e[t]})).nice()},d3_chart2d.prototype.set_y1domain=function(){var t=this.data1keymap.ydata,e=this,a=[];e.data1.listdatafiltered.forEach(this.data1keymap.ydatamin&&this.data1keymap.ydatamax?function(i){a.push(i[t]),a.push(i[e.data1keymap.ydatamin]),a.push(i[e.data1keymap.ydatamax])}:this.data1keymap.ydatalb&&this.data1keymap.ydataub?function(i){a.push(i[t]),a.push(i[e.data1keymap.ydatalb]),a.push(i[e.data1keymap.ydatalb])}:function(e){a.push(e[t])}),this.y1scale.domain(d3.extent(a)).nice()},d3_chart2d.prototype.set_x2domain=function(){var t=this.data2keymap.xdata,e=this;this.x2scale.domain(d3.extent(e.data1.listdatafiltered,function(e){return e[t]})).nice()},d3_chart2d.prototype.set_y2domain=function(){var t=this.data2keymap.ydata,e=this,a=[];e.data2.listdatafiltered.forEach(this.data2keymap.ydatamin&&this.data2keymap.ydatamax?function(i){a.push(i[t]),a.push(i[e.data2keymap.ydatamin]),a.push(i[e.data2keymap.ydatamax])}:this.data2keymap.ydatalb&&this.data2keymap.ydataub?function(i){a.push(i[t]),a.push(i[e.data2keymap.ydatalb]),a.push(i[e.data2keymap.ydatalb])}:function(e){a.push(e[t])}),this.y2scale.domain(d3.extent(a)).nice()},d3_chart2d.prototype.get_uniquelabels=function(t,e){var a=e,i=d3.set();return t.forEach(function(t){i.add(t[a])}),i.values()},d3_chart2d.prototype.copy_x1scalestox2scales=function(){this.x2scale=this.x1scale},d3_chart2d.prototype.copy_y1scalestoy2scales=function(){this.y2scale=this.y1scale},d3_chart2d.prototype.set_colorscale=function(t,e,a,i){var s=["#081d58","#162876","#253494","#23499E","#2253A3","#225ea8","#1F77B4","#1d91c0","#2FA3C2","#38ACC3","#41b6c4","#60C1BF","#7fcdbb","#91D4B9","#A3DBB7","#c7e9b4","#DAF0B2","#E3F4B1","#edf8b1","#F6FBC5","#ffffd9"],n=["#081d58","#253494","#2253A3","#1F77B4","#2FA3C2","#7fcdbb","#A3DBB7","#DAF0B2","#edf8b1","#ffffd9"],r=this.data1.listdatafiltered;this.colorscale="quantile"===t&&"min,0,max"===a&&i&&"colorbrewer"===e?d3.scale.quantile().domain([d3.min(r,function(t){return t[i]}),0,d3.max(r,function(t){return t[i]})]).range(colorbrewer.YlGnBu[9]):"quantile"===t&&"min,0,max"===a&&i&&"heatmap21"===e?d3.scale.quantile().domain([d3.min(r,function(t){return t[i]}),0,d3.max(r,function(t){return t[i]})]).range(s):"quantile"===t&&"min,0,max"===a&&i&&"heatmap10"===e?d3.scale.quantile().domain([d3.min(r,function(t){return t[i]}),0,d3.max(r,function(t){return t[i]})]).range(n):"quantile"===t&&a&&"colorbrewer"===e?d3.scale.quantile().domain(a).range(colorbrewer.YlGnBu[9]):"quantile"===t&&a&&"category10c"===e?d3.scale.quantile().domain(a).category10c():"quantile"===t&&a&&"category20"===e?d3.scale.quantile().domain(a).category20():"quantile"===t&&a&&"category20a"===e?d3.scale.quantile().domain(a).category20a():"quantile"===t&&a&&"category20b"===e?d3.scale.quantile().domain(a).category20b():"quantile"===t&&a&&"category20c"===e?d3.scale.quantile().domain(a).category20c():"quantile"===t&&"colorbrewer"===e?d3.scale.quantile().range(colorbrewer.YlGnBu[10]):"quantile"===t&&"category10c"===e?d3.scale.quantile().category10c():"quantile"===t&&"category20"===e?d3.scale.quantile().category20():"quantile"===t&&"category20a"===e?d3.scale.quantile().category20a():"quantile"===t&&"category20b"===e?d3.scale.quantile().domain(a).category20b():"quantile"===t&&"category20c"===e?d3.scale.quantile().category20c():d3.scale.category20c()},d3_chart2d.prototype.set_x1axis=function(){this._x1axis=d3.svg.axis().scale(this.x1scale).orient("bottom")},d3_chart2d.prototype.set_x1x2axis=function(){this._x1axis=d3.svg.axis().scale(this.x1scale).orient("bottom"),this._x2axis=d3.svg.axis().scale(this.x1scale).orient("top")},d3_chart2d.prototype.set_x2axis=function(){this._x2axis=d3.svg.axis().scale(this.x2scale).orient("top")},d3_chart2d.prototype.set_y1axis=function(){this._y1axis=d3.svg.axis().scale(this.y1scale).orient("left")},d3_chart2d.prototype.set_y1y2axis=function(){this._y1axis=d3.svg.axis().scale(this.y1scale).orient("left"),this._y2axis=d3.svg.axis().scale(this.y1scale).orient("right")},d3_chart2d.prototype.set_y2axis=function(){this._y2axis=d3.svg.axis().scale(this.y2scale).orient("right")},d3_chart2d.prototype.add_x1axis=function(){this.x1axis=this.svgenter.append("g").attr("class","x1axis").attr("id",this.id+"x1axis").attr("transform","translate(0,"+this.height+")"),this.svgg.select("g.x1axis").transition().call(this._x1axis)},d3_chart2d.prototype.add_x1x2axis=function(){this.x1axis=this.svgenter.append("g").attr("class","x1axis").attr("id",this.id+"x1axis").attr("transform","translate(0,"+this.height+")"),this.svgg.select("g.x1axis").transition().call(this._x1axis),this.x2axis=this.svgenter.append("g").attr("class","x2axis").attr("id",this.id+"x2axis"),this.svgg.select("g.x2axis").transition().call(this._x2axis)},d3_chart2d.prototype.add_x2axis=function(){this.x2axis=this.svgenter.append("g").attr("class","x2axis").attr("id",this.id+"x2axis"),this.svgg.select("g.x2axis").transition().call(this._x2axis)},d3_chart2d.prototype.add_y1axis=function(){this.y1axis=this.svgenter.append("g").attr("class","y1axis").attr("id",this.id+"y1axis"),this.svgg.select("g.y1axis").transition().call(this._y1axis)},d3_chart2d.prototype.add_y1y2axis=function(){var t=this.width;this.y1axis=this.svgenter.append("g").attr("class","y1axis").attr("id",this.id+"y1axis"),this.svgg.select("g.y1axis").transition().call(this._y1axis),this.y2axis=this.svgenter.append("g").attr("class","y2axis").attr("id",this.id+"y2axis").attr("transform","translate("+t+",0)"),this.svgg.select("g.y2axis").transition().call(this._y2axis)},d3_chart2d.prototype.add_y2axis=function(){var t=this.width;this.y2axis=this.svgenter.append("g").attr("class","y2axis").attr("id",this.id+"y2axis").attr("transform","translate("+t+",0)"),this.svgg.select("g.y2axis").transition().call(this._y2axis)},d3_chart2d.prototype.set_x1tickformat=function(){},d3_chart2d.prototype.set_x2tickformat=function(){},d3_chart2d.prototype.set_y1tickformat=function(){},d3_chart2d.prototype.set_y2tickformat=function(){},d3_chart2d.prototype.add_x1axisgridlines=function(){var t=this.data1keymap.ydata,e=this.x1scale,a=this.data1.listdatafiltered;this.x1axisgridlines=this.svgg.selectAll(".xgridlines").data(this.x1scale.ticks(10)),this.x1axisgridlines.exit().remove(),this.x1axisgridlines.transition().attr("x1",e).attr("x2",e).attr("y1",d3.min(a,function(e){return e[t]})).attr("y2",d3.max(a,function(e){return e[t]})).style("stroke","#ccc"),this.x1axisgridlinesenter=this.x1axisgridlines.enter().append("line").attr("class","xgridlines").attr("id",this.id+"xgridlines").attr("x1",e).attr("x2",e).attr("y1",d3.min(a,function(e){return e[t]})).attr("y2",d3.max(a,function(e){return e[t]})).style("stroke","#ccc")},d3_chart2d.prototype.add_y1axisgridlines=function(){var t=this.data1keymap.ydata,e=this.y1scale,a=this.data1.listdatafiltered;this.y1axisgridlines=this.svgg.selectAll(".ygridlines").data(this.y1scale.ticks(10)),this.y1axisgridlines.exit().remove(),this.y1axisgridlines.transition().attr("x1",d3.min(a,function(e){return e[t]})).attr("x2",d3.max(a,function(e){return e[t]})).attr("y1",e).attr("y2",e).style("stroke","#ccc"),this.y1axisgridlinesenter=this.y1axisgridlines.enter().append("line").attr("class","ygridlines").attr("id",this.id+"ygridlines").attr("x1",d3.min(a,function(e){return e[t]})).attr("x2",d3.max(a,function(e){return e[t]})).attr("y1",e).attr("y2",e).style("stroke","#ccc")},d3_chart2d.prototype.add_x1axislabel=function(t){this.x1axis.append("text").attr("class","label").attr("x",this.width/2).attr("y",28).style("text-anchor","middle").text(t)},d3_chart2d.prototype.add_x2axislabel=function(t){this.x1axis.append("text").attr("class","label").attr("x",this.width/2).attr("y",-28).style("text-anchor","middle").text(t)},d3_chart2d.prototype.add_y1axislabel=function(t){this.y1axis.append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-28).attr("x",-this.height/2).style("text-anchor","middle").text(t)},d3_chart2d.prototype.add_y2axislabel=function(t){this.y2axis.append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",28).attr("x",-this.height/2).style("text-anchor","middle").text(t)},d3_chart2d.prototype.set_tooltip=function(){this.data1keymap.serieslabel;this.tooltip=d3.select("#"+this.tileid).append("div").attr("class","hidden").attr("id",this.id+"tooltip").append("p").attr("id",this.id+"value")},d3_chart2d.prototype.set_tooltipstyle=function(){var t="#"+this.id+"tooltip",e={position:"fixed",width:"200px",height:"auto",padding:"10px","background-color":"white","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px","-webkit-box-shadow":"4px 4px 10px rgba(0, 0, 0, 0.4)","-moz-box-shadow":"4px 4px 10px rgba(0, 0, 0, 0.4)","box-shadow":"4px 4px 10px rgba(0, 0, 0, 0.4)","pointer-events":"none"},a=[{selection:t,style:e}];this.set_d3css(a)},d3_chart2d.prototype.add_legenddata1filter=function(){var t=this.data1keymap.serieslabel,e=this;this.legenddata1enter.on("click",function(a){var i=[];e.data1.filters[t].forEach(function(t){t!==a&&i.push(t)}),e.data1.filters[t]=i,e.data1.filter_stringdata(),e.filterdata1and2&&(e.data2.filters[t]=i,e.data2.filter_stringdata()),e.render()})},d3_chart2d.prototype.add_legenddata1=function(){var t=(this.data1keymap.xdata,this.data1keymap.ydata,this.data1keymap.serieslabel),e=this.colorscale,a=this.width,i=this.id,s=this.data1.listdatafiltered,n=this.get_uniquelabels(s,t);this.legenddata1=this.svgg.selectAll(".legendelement").data(n),this.legenddata1enter=this.legenddata1.enter().append("g").attr("class","legendelement").attr("id",function(t,e){return i+"legendelement"+e.toString()}).attr("transform",function(){return"translate("+a+",0)"}),this.legenddata1.transition().attr("transform",function(){return"translate("+(a+10)+",0)"}),this.legenddata1enter.append("rect").attr("x",0).attr("width",10).attr("y",function(t,e){return 20*e}).attr("height",10),this.legenddata1.select("rect").transition().attr("y",function(t,e){return 20*e}).style("fill",function(t){return e(t)}),this.legenddata1enter.append("text").attr("x",12).attr("y",function(t,e){return 20*e+9}),this.legenddata1.select("text").transition().attr("x",12).attr("y",function(t,e){return 20*e+9}).text(function(t){return t}),this.legenddata1.exit().transition().attr("transform",function(){return"translate("+a+",0)"}).remove()},d3_chart2d.prototype.render=function(){},d3_chart2d.prototype.add_data1featureslabels=function(){var t=this.data1keymap.xdata,e=this.data1keymap.ydata,a=(this.colorscale,this.data1keymap.featureslabel),i=this.x1scale,s=this.y1scale,n=this.id;this.data1featureslabelstext=this.svgg.selectAll(".featureslabels").data(this.data1.listdatafiltered),this.data1featureslabelstext.transition().attr("x",function(e){return i(e[t])+5}).attr("y",function(t){return s(t[e])-5}).text(function(t){return t[a]}),this.data1featureslabelstextenter=this.data1featureslabelstext.enter(),this.data1featureslabelstextenter.append("text").attr("class","featureslabels").attr("id",function(t){return n+"featureslabels"+t[a]}).attr("x",function(e){return i(e[t])+5}).attr("y",function(t){return s(t[e])-5}).text(function(t){return t[a]}),this.data1featureslabelstext.exit().remove()},d3_chart2d.prototype.remove_x1axis=function(){d3.selectAll("#"+this.id+"x1axis").remove(),this.x1axis=null},d3_chart2d.prototype.remove_x2axis=function(){d3.selectAll("#"+this.id+"x2axis").remove(),this.x2axis=null},d3_chart2d.prototype.remove_y1axis=function(){d3.selectAll("#"+this.id+"y1axis").remove(),this.y1axis=null},d3_chart2d.prototype.remove_y2axis=function(){d3.selectAll("#"+this.id+"y2axis").remove(),this.y2axis=null},d3_chart2d.prototype.set_svggcss=function(t){for(i=0;i<t.length;i++)this.svgg.selectAll(t[i].selection).style(t[i].style)},d3_chart2d.prototype.set_d3css=function(t){for(i=0;i<t.length;i++)d3.selectAll(t[i].selection).style(t[i].style)},d3_chart2d.prototype.set_x1andy1axesstyle=function(){var t="#"+this.id+"x1axis path",e="#"+this.id+"y1axis path",a={fill:"none",stroke:"#000","shape-rendering":"crispEdges","stroke-width":"1.5px"},i=[{selection:t,style:a},{selection:e,style:a}];this.set_svggcss(i)},d3_chart2d.prototype.set_x1x2andy1y2axesstyle=function(){var t="#"+this.id+"x1axis path",e="#"+this.id+"y1axis path",a="#"+this.id+"x2axis path",i="#"+this.id+"y2axis path",s={fill:"none",stroke:"#000","shape-rendering":"crispEdges","stroke-width":"1.5px"},n=[{selection:t,style:s},{selection:e,style:s},{selection:a,style:s},{selection:i,style:s}];this.set_svggcss(n)},d3_chart2d.prototype.set_data1keymap=function(t){this.data1keymap=t},d3_chart2d.prototype.set_data2keymap=function(t){this.data2keymap=t},d3_chart2d.prototype.set_zoom=function(){{var t=this.draw;this.render}this.zoom=d3.behavior.zoom().scaleExtent([1,10]).on("zoom",t)},d3_chart2d.prototype.set_x1axiszoom=function(){var t=this.x1scale;this.zoom.x(t)},d3_chart2d.prototype.set_y1axiszoom=function(){var t=this.y1scale;this.zoom.y(t)},d3_chart2d.prototype.add_zoom=function(){var t=(this.svgelement,this.zoom);this.svgg.call(t)},d3_chart2d.prototype.draw=function(){var t=this.svgg,e=this._x1axis,a=this._x2axis,i=(this._y1axis,this._y2axis);return function(){this.x1axis&&t.select("g.x1axis").call(e),this.x2axis&&t.select("g.x2axis").transition().call(a),this.y1axis&&t.select("g.y1axis").transition().call(e),this.y2axis&&t.select("g.y2axis").transition().call(i)}},d3_chart2d.prototype.set_duration=function(t){this.duration=t},d3_chart2d.prototype.set_svgelementzoomcss=function(){var t="#"+this.id,e={cursor:"move","pointer-events":"all"},a=[{selection:t,style:e}];this.set_d3css(a)},d3_chart2d.prototype.add_boxandwhiskersdata1=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian,this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel,this.x1scale);this.x2scale,this.y1scale,this.colorscale,this.id,this.zoom}this.boxandwhiskerslabel=this.svgg.selectAll(".labels").data(this.data1.nestdatafiltered),this.boxandwhiskerslabel.transition().attr("class","labels").attr("transform",function(e){return"translate("+t(e.key)+",0)"}),this.boxandwhiskerslabel.exit().remove(),this.boxandwhiskerslabelenter=this.boxandwhiskerslabel.enter().append("g").attr("class","labels").attr("transform",function(e){return"translate("+t(e.key)+",0)"})},d3_chart2d.prototype.add_boxandwhiskersdata1_box=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian,this.data1keymap.ydataiq1),e=this.data1keymap.ydataiq3,a=(this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel),i=(this.x1scale,this.x2scale),s=this.y1scale,n=this.colorscale;this.id}this.boxandwhiskersboxes=this.boxandwhiskerslabel.selectAll(".boxes").data(function(t){return t.values}),this.boxandwhiskersboxes.exit().remove(),this.boxandwhiskersboxes.transition().attr("width",i.rangeBand()).attr("x",function(t){return i(t[a])}).attr("y",function(t){return s(t[e])}).attr("height",function(a){return Math.abs(s(a[e])-s(a[t]))}).style("stroke",function(t){return n(t[a])}).style("fill","none"),this.boxandwhiskersboxesenter=this.boxandwhiskersboxes.enter().append("rect").attr("class","boxes"),this.boxandwhiskersboxesenter.attr("width",i.rangeBand()).attr("x",function(t){return i(t[a])}).attr("y",function(t){return s(t[e])}).attr("height",function(a){return Math.abs(s(a[e])-s(a[t]))}).style("stroke",function(t){return n(t[a])}).style("fill","none")},d3_chart2d.prototype.add_boxandwhiskersdata1_median=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian),e=(this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel),a=(this.x1scale,this.x2scale),i=this.y1scale,s=this.colorscale;this.id}this.boxandwhiskersmedianlines=this.boxandwhiskerslabel.selectAll(".medianlines").data(function(t){return t.values}),this.boxandwhiskersmedianlines.exit().remove(),this.boxandwhiskersmedianlines.transition().attr("x1",function(t){return a(t[e])}).attr("x2",function(t){return a(t[e])+a.rangeBand()}).attr("y1",function(e){return i(e[t])}).attr("y2",function(e){return i(e[t])}).style("stroke",function(t){return s(t[e])}),this.boxandwhiskersmedianlinesenter=this.boxandwhiskersmedianlines.enter().append("line").attr("class","medianlines"),this.boxandwhiskersmedianlinesenter.attr("x1",function(t){return a(t[e])}).attr("x2",function(t){return a(t[e])+a.rangeBand()}).attr("y1",function(e){return i(e[t])}).attr("y2",function(e){return i(e[t])}).style("stroke",function(t){return s(t[e])})},d3_chart2d.prototype.add_boxandwhiskersdata1_mean=function(){{var t=this.data1keymap.ydata,e=(this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian,this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel),a=(this.x1scale,this.x2scale),i=this.y1scale,s=this.colorscale;this.id}this.boxandwhiskersmeancircles=this.boxandwhiskerslabel.selectAll(".meancircles").data(function(t){return t.values}),this.boxandwhiskersmeancircles.exit().remove(),this.boxandwhiskersmeancircles.transition().attr("r",function(){return.125*a.rangeBand()}).attr("cx",function(t){return a(t[e])+.5*a.rangeBand()}).attr("cy",function(e){return i(e[t])}).style("stroke","black").style("fill",function(t){return s(t[e])}),this.boxandwhiskersmeancirclesenter=this.boxandwhiskersmeancircles.enter().append("circle").attr("class","meancircles"),this.boxandwhiskersmeancirclesenter.attr("r",function(){return.125*a.rangeBand()}).attr("cx",function(t){return a(t[e])+.5*a.rangeBand()}).attr("cy",function(e){return i(e[t])}).style("stroke","black").style("fill",function(t){return s(t[e])})},d3_chart2d.prototype.add_boxandwhiskersdata1_caps=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian,this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin),e=this.data1keymap.ydatamax,a=this.data1keymap.serieslabel,i=(this.x1scale,this.x2scale),s=this.y1scale,n=this.colorscale;this.id}this.boxandwhiskersmaxlines=this.boxandwhiskerslabel.selectAll(".maxlines").data(function(t){return t.values}),this.boxandwhiskersmaxlines.exit().remove(),this.boxandwhiskersmaxlines.transition().attr("x1",function(t){return i(t[a])}).attr("x2",function(t){return i(t[a])+i.rangeBand()}).attr("y1",function(t){return s(t[e])}).attr("y2",function(t){return s(t[e])}).style("stroke",function(t){return n(t[a])}),this.boxandwhiskersmaxlinesenter=this.boxandwhiskersmaxlines.enter().append("line").attr("class","maxlines"),this.boxandwhiskersmaxlinesenter.attr("x1",function(t){return i(t[a])}).attr("x2",function(t){return i(t[a])+i.rangeBand()}).attr("y1",function(t){return s(t[e])}).attr("y2",function(t){return s(t[e])}).style("stroke",function(t){return n(t[a])}),this.boxandwhiskersminlines=this.boxandwhiskerslabel.selectAll(".minlines").data(function(t){return t.values}),this.boxandwhiskersminlines.exit().remove(),this.boxandwhiskersminlines.transition().attr("x1",function(t){return i(t[a])}).attr("x2",function(t){return i(t[a])+i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(e){return s(e[t])}).style("stroke",function(t){return n(t[a])}),this.boxandwhiskersminlinesenter=this.boxandwhiskersminlines.enter().append("line").attr("class","minlines"),this.boxandwhiskersminlinesenter.attr("x1",function(t){return i(t[a])}).attr("x2",function(t){return i(t[a])+i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(e){return s(e[t])}).style("stroke",function(t){return n(t[a])})},d3_chart2d.prototype.add_boxandwhiskersdata1_whiskers=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian,this.data1keymap.ydataiq1),e=this.data1keymap.ydataiq3,a=this.data1keymap.ydatamin,i=this.data1keymap.ydatamax,s=this.data1keymap.serieslabel,n=(this.x1scale,this.x2scale),r=this.y1scale,l=this.colorscale;this.id}this.boxandwhiskerswhiskersminlines=this.boxandwhiskerslabel.selectAll(".whiskersminlines").data(function(t){return t.values}),this.boxandwhiskerswhiskersminlines.exit().remove(),this.boxandwhiskerswhiskersminlines.transition().attr("x1",function(t){return n(t[s])+.5*n.rangeBand()}).attr("x2",function(t){return n(t[s])+.5*n.rangeBand()}).attr("y1",function(e){return r(e[t])}).attr("y2",function(t){return r(t[a])
}).style("stroke",function(t){return l(t[s])}),this.boxandwhiskerswhiskersminlinesenter=this.boxandwhiskerswhiskersminlines.enter().append("line").attr("class","whiskersminlines"),this.boxandwhiskerswhiskersminlinesenter.attr("x1",function(t){return n(t[s])+.5*n.rangeBand()}).attr("x2",function(t){return n(t[s])+.5*n.rangeBand()}).attr("y1",function(e){return r(e[t])}).attr("y2",function(t){return r(t[a])}).style("stroke",function(t){return l(t[s])}),this.boxandwhiskerswhiskersmaxlines=this.boxandwhiskerslabel.selectAll(".whiskersmaxlines").data(function(t){return t.values}),this.boxandwhiskerswhiskersmaxlines.exit().remove(),this.boxandwhiskerswhiskersmaxlines.transition().attr("x1",function(t){return n(t[s])+.5*n.rangeBand()}).attr("x2",function(t){return n(t[s])+.5*n.rangeBand()}).attr("y1",function(t){return r(t[e])}).attr("y2",function(t){return r(t[i])}).style("stroke",function(t){return l(t[s])}),this.boxandwhiskerswhiskersmaxlinesenter=this.boxandwhiskerswhiskersmaxlines.enter().append("line").attr("class","whiskersmaxlines"),this.boxandwhiskerswhiskersmaxlinesenter.attr("x1",function(t){return n(t[s])+.5*n.rangeBand()}).attr("x2",function(t){return n(t[s])+.5*n.rangeBand()}).attr("y1",function(t){return r(t[e])}).attr("y2",function(t){return r(t[i])}).style("stroke",function(t){return l(t[s])})},d3_chart2d.prototype.add_boxandwhiskersdata1_lbub=function(){{var t=(this.data1keymap.ydata,this.data1keymap.ydatalb),e=this.data1keymap.ydataub,a=(this.data1keymap.ydatamedian,this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel),i=(this.x1scale,this.x2scale),s=this.y1scale;this.colorscale,this.id}this.boxandwhiskersublines=this.boxandwhiskerslabel.selectAll(".ublines").data(function(t){return t.values}),this.boxandwhiskersublines.exit().remove(),this.boxandwhiskersublines.transition().attr("x1",function(t){return i(t[a])+.25*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.75*i.rangeBand()}).attr("y1",function(t){return s(t[e])}).attr("y2",function(t){return s(t[e])}).style("stroke","black"),this.boxandwhiskersublinesenter=this.boxandwhiskersublines.enter().append("line").attr("class","ublines"),this.boxandwhiskersublinesenter.attr("x1",function(t){return i(t[a])+.25*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.75*i.rangeBand()}).attr("y1",function(t){return s(t[e])}).attr("y2",function(t){return s(t[e])}).style("stroke","black"),this.boxandwhiskerslblines=this.boxandwhiskerslabel.selectAll(".lblines").data(function(t){return t.values}),this.boxandwhiskerslblines.exit().remove(),this.boxandwhiskerslblines.transition().attr("x1",function(t){return i(t[a])+.25*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.75*i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(e){return s(e[t])}).style("stroke","black"),this.boxandwhiskerslblinesenter=this.boxandwhiskerslblines.enter().append("line").attr("class","lblines"),this.boxandwhiskerslblinesenter.attr("x1",function(t){return i(t[a])+.25*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.75*i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(e){return s(e[t])}).style("stroke","black"),this.boxandwhiskerslbubconnector=this.boxandwhiskerslabel.selectAll(".lbubconnector").data(function(t){return t.values}),this.boxandwhiskerslbubconnector.exit().remove(),this.boxandwhiskerslbubconnector.transition().attr("x1",function(t){return i(t[a])+.5*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.5*i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(t){return s(t[e])}).style("stroke","black"),this.boxandwhiskerslbubconnectorenter=this.boxandwhiskerslbubconnector.enter().append("line").attr("class","lbubconnector"),this.boxandwhiskerslbubconnectorenter.attr("x1",function(t){return i(t[a])+.5*i.rangeBand()}).attr("x2",function(t){return i(t[a])+.5*i.rangeBand()}).attr("y1",function(e){return s(e[t])}).attr("y2",function(t){return s(t[e])}).style("stroke","black")},d3_chart2d.prototype.add_boxandwhiskersdata1tooltipandfill_box=function(){var t=(this.data1keymap.ydata,this.data1keymap.ydatalb,this.data1keymap.ydataub,this.data1keymap.ydatamedian),e=this.data1keymap.ydataiq1,a=this.data1keymap.ydataiq3,i=this.data1keymap.ydatamin,s=this.data1keymap.ydatamax,n=this.data1keymap.serieslabel,r=(this.x1scale,this.x2scale,this.y1scale,this.colorscale,this.id);this.boxandwhiskersboxesenter.on("mouseover",function(l){d3.select(this).style("fill","black"),d3.select("#"+r+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+r+"value").text(l[n]+": median: "+l[t].toFixed(2)+", iq1/3: "+l[e].toFixed(2)+"/"+l[a].toFixed(2)+", min/max: "+l[i].toFixed(2)+"/"+l[s].toFixed(2)),d3.select("#"+r+"tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select(this).style("fill","none"),d3.select("#"+r+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_boxandwhiskersdata1tooltipandfill_mean=function(){var t=this.data1keymap.ydata,e=this.data1keymap.ydatalb,a=this.data1keymap.ydataub,i=(this.data1keymap.ydatamedian,this.data1keymap.ydataiq1,this.data1keymap.ydataiq3,this.data1keymap.ydatamin,this.data1keymap.ydatamax,this.data1keymap.serieslabel),s=(this.x1scale,this.x2scale,this.y1scale,this.colorscale),n=this.id;this.boxandwhiskersmeancirclesenter.on("mouseover",function(s){d3.select(this).style("fill","black"),d3.select("#"+n+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+n+"value").text(s[i]+": mean: "+s[t].toFixed(2)+", ci 95%: "+s[e].toFixed(2)+"/"+s[a].toFixed(2)),d3.select("#"+n+"tooltip").classed("hidden",!1)}).on("mouseout",function(t){d3.select(this).style("fill",s(t[i])),d3.select("#"+n+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.set_heatmapdata1=function(t){var e=this.data1.listdatafiltered,a=this.data1keymap.columnslabel,s=this.data1keymap.rowslabel,n=this.data1keymap.zdata,r=this.data1keymap.rowsleaves,l=this.data1keymap.columnsleaves,d=this.data1keymap.columnsindex,o=this.data1keymap.rowsindex;this.cellsize=t,this.legendelementwidth=1.5*t,this.uniquecollabels=this.get_uniquelabels(e,a),this.uniquerowlabels=this.get_uniquelabels(e,s);var c=d3.set(),h=d3.set();e.forEach(function(t){c.add(Math.round(t[d])),h.add(Math.round(t[o]))});var u=Math.round(d3.min(c.values())),p=Math.round(d3.min(h.values())),y=c.values().length-1,f=h.values().length-1,x=[],m=[];for(i=u;i<=y;i++)x.push(i);for(i=p;i<=f;i++)m.push(i);var g=[],k=[];for(i=0;i<x.length;i++)for(j=0;j<e.length;j++)if(x[i]===e[j][d]){g.push(e[j][l]);break}for(i=0;i<m.length;i++)for(j=0;j<e.length;j++)if(m[i]===e[j][o]){k.push(e[j][r]);break}this.columnleavesordered=g,this.rowleavesordered=k,this.width=t*this.uniquecollabels.length,this.height=t*this.uniquerowlabels.length;var b=[];e.forEach(function(t){b.push(t[n])}),this.maxvalue=d3.max(b),this.minvalue=d3.min(b),this.rowsortorder=!1,this.colsortorder=!1},d3_chart2d.prototype.add_heatmapdata1rowlabels=function(){var t=this.uniquerowlabels,e=this.sortbylabel,a=this.rowsortorder,i=this.cellsize,s=this.rowleavesordered;this.rowlabels=this.svgg.append("g").selectAll(".rowLabelg").data(t),this.rowlabelsenter=this.rowlabels.enter().append("text").text(function(t){return t}).attr("x",0).attr("y",function(t,e){return s.indexOf(e)*i}).style("text-anchor","end").attr("transform","translate(-25,"+i/1.5+")").attr("class",function(t,e){return"rowLabel mono r"+e}).on("mouseover",function(){d3.select(this).classed("text-hover",!0)}).on("mouseout",function(){d3.select(this).classed("text-hover",!1)}).on("click",function(t,i){a=!a,e("r",i,a),this.$("#order").property("selectedIndex",4).node().focus()})},d3_chart2d.prototype.add_heatmapdata1columnlabels=function(){var t=this.uniquecollabels,e=this.sortbylabel,a=this.colsortorder,i=this.tileid,s=this.cellsize,n=this.columnleavesordered,r=this.svgg;this.collabels=this.svgg.append("g").selectAll(".colLabelg").data(t),this.collabelsenter=this.collabels.enter().append("text").text(function(t){return t}).attr("x",0).attr("y",function(t,e){return n.indexOf(e)*s}).style("text-anchor","left").attr("transform","translate("+s/2+",-25) rotate (-90)").attr("class",function(t,e){return"colLabel mono c"+e}).on("mouseover",function(){d3.select(this).classed("text-hover",!0)}).on("mouseout",function(){d3.select(this).classed("text-hover",!1)}).on("click",function(t,s){a=!a,e("c",s,a,r),this.$("#"+i+"datalist").property("selectedIndex",4).node().focus()})},d3_chart2d.prototype.sortbylabel=function(t,e,a,i,s,n,r){var l,d=r.transition().duration(3e3),o=[];d3.selectAll(".c"+t+e).filter(function(t){o.push(t.value)}),"r"==t?(l=d3.range(col_number).sort(function(t,e){return a?o[e]-o[t]:o[t]-o[e]}),d.selectAll(".cell").attr("x",function(t){return l.indexOf(t[n])*i}),d.selectAll(".colLabel").attr("y",function(t,e){return l.indexOf(e)*i})):(l=d3.range(row_number).sort(function(t,e){return a?o[e]-o[t]:o[t]-o[e]}),d.selectAll(".cell").attr("y",function(t){return l.indexOf(t[s])*i}),d.selectAll(".rowLabel").attr("y",function(t,e){return l.indexOf(e)*i}))},d3_chart2d.prototype.heatmaporder=function(t,e,a,i,s,n,r){if("hclust"==e){var l=r.transition().duration(3e3);l.selectAll(".cell").attr("x",function(e){return n.indexOf(e[i])*t}).attr("y",function(e){return s.indexOf(e[a])*t}),l.selectAll(".rowLabel").attr("y",function(e,a){return s.indexOf(a)*t}),l.selectAll(".colLabel").attr("y",function(e,a){return n.indexOf(a)*t})}else if("probecontrast"==e){var l=r.transition().duration(3e3);l.selectAll(".cell").attr("x",function(e){return e[i]*t}).attr("y",function(e){return e[a]*t}),l.selectAll(".rowLabel").attr("y",function(e,a){return a*t}),l.selectAll(".colLabel").attr("y",function(e,a){return a*t})}else if("probe"==e){var l=r.transition().duration(3e3);l.selectAll(".cell").attr("y",function(e){return e[a]*t}),l.selectAll(".rowLabel").attr("y",function(e,a){return a*t})}else if("contrast"==e){var l=r.transition().duration(3e3);l.selectAll(".cell").attr("x",function(e){return e[i]*t}),l.selectAll(".colLabel").attr("y",function(e,a){return a*t})}},d3_chart2d.prototype.add_heatmapdata1=function(){var t=this.data1.listdatafiltered,e=(this.data1keymap.columnslabel,this.data1keymap.rowslabel,this.data1keymap.columnsindex),a=this.data1keymap.rowsindex,i=this.data1keymap.columnsleaves,s=this.data1keymap.rowsleaves,n=this.data1keymap.zdata,r=this.colorscale,l=this.cellsize;this.heatmap=this.svgg.append("g").attr("class","g3").selectAll(".cellg").data(t,function(t){return t[a]+":"+t[e]}),this.heatmapenter=this.heatmap.enter().append("rect").attr("x",function(t){return t[i]*l}).attr("y",function(t){return t[s]*l}).attr("class",function(t){return"cell cell-border cr"+t[a]+" cc"+t[e]}).attr("width",l).attr("height",l).style("fill",function(t){return r(t[n])})},d3_chart2d.prototype.add_heatmapdata1animation=function(){var t=d3.select(".g3").on("mousedown",function(){d3.event.altKey||(d3.selectAll(".cell-selected").classed("cell-selected",!1),d3.selectAll(".rowLabel").classed("text-selected",!1),d3.selectAll(".colLabel").classed("text-selected",!1));var e=d3.mouse(this);t.append("rect").attr({rx:0,ry:0,"class":"selection",x:e[0],y:e[1],width:1,height:1})}).on("mousemove",function(){var e=t.select("rect.selection");if(!e.empty()){var a=d3.mouse(this),i={x:parseInt(e.attr("x"),10),y:parseInt(e.attr("y"),10),width:parseInt(e.attr("width"),10),height:parseInt(e.attr("height"),10)},s={x:a[0]-i.x,y:a[1]-i.y};s.x<1||2*s.x<i.width?(i.x=a[0],i.width-=s.x):i.width=s.x,s.y<1||2*s.y<i.height?(i.y=a[1],i.height-=s.y):i.height=s.y,e.attr(i),d3.selectAll(".cell-selection.cell-selected").classed("cell-selected",!1),d3.selectAll(".text-selection.text-selected").classed("text-selected",!1),d3.selectAll(".cell").filter(function(t){!d3.select(this).classed("cell-selected")&&this.x.baseVal.value+cellsize>=i.x&&this.x.baseVal.value<=i.x+i.width&&this.y.baseVal.value+cellsize>=i.y&&this.y.baseVal.value<=i.y+i.height&&(d3.select(this).classed("cell-selection",!0).classed("cell-selected",!0),d3.select(".r"+t[rowsindex]).classed("text-selection",!0).classed("text-selected",!0),d3.select(".c"+t[columnsindex]).classed("text-selection",!0).classed("text-selected",!0))})}}).on("mouseup",function(){t.selectAll("rect.selection").remove(),d3.selectAll(".cell-selection").classed("cell-selection",!1),d3.selectAll(".text-selection").classed("text-selection",!1)}).on("mouseout",function(){"html"==d3.event.relatedTarget.tagName&&(t.selectAll("rect.selection").remove(),d3.selectAll(".cell-selection").classed("cell-selection",!1),d3.selectAll(".rowLabel").classed("text-selected",!1),d3.selectAll(".colLabel").classed("text-selected",!1))})},d3_chart2d.prototype.add_heatmapdata1tooltipandfill=function(){var t=(this.data1.listdatafiltered,this.data1keymap.columnslabel),e=this.data1keymap.rowslabel,a=this.data1keymap.columnsindex,i=this.data1keymap.rowsindex,s=this.data1keymap.zdata,n=(this.colorscale,this.id);this.heatmapenter.on("mouseover",function(r){d3.select(this).classed("cell-hover",!0),d3.selectAll(".rowLabel").classed("text-highlight",function(t,e){return e==r[i]}),d3.selectAll(".colLabel").classed("text-highlight",function(t,e){return e==r[a]}),d3.select("#"+n+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+n+"value").text(e+": "+r[e]+",\n"+t+": "+r[t]+",\n"+s+": "+r[s]),d3.select("#"+n+"tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select(this).classed("cell-hover",!1),d3.selectAll(".rowLabel").classed("text-highlight",!1),d3.selectAll(".colLabel").classed("text-highlight",!1),d3.select("#"+n+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_heatmapdata1legend=function(){var t=(this.data1.listdatafiltered,this.data1keymap.columnslabel,this.data1keymap.rowslabel,this.data1keymap.columnsindex,this.data1keymap.rowsindex,this.data1keymap.zdata,this.colorscale),e=(this.id,this.minvalue),a=this.maxvalue,i=this.legendelementwidth,s=this.cellsize,n=this.height,r=(this.width,Math.ceil(t.length/(a-e)));0===e&&1===a?(this.legenddata1=this.svgg.selectAll(".legend").data(d3.range(minval,maxval,(maxval-minval)/10)),this.legenddata1enter=this.legenddata1.enter().append("g").attr("class","legend"),r=1):(this.legenddata1=this.svgg.selectAll(".legend").data(d3.range(Math.floor(e),Math.ceil(a))),this.legenddata1enter=this.legenddata1.enter().append("g").attr("class","legend")),this.legenddata1.exit().remove(),this.legenddata1.select("rect").transition().attr("x",function(t,e){return i*e}).attr("y",n+2*s).attr("width",i).attr("height",s).style("fill",function(e,a){return t[a*r]}),this.legenddata1enter.append("rect").attr("x",function(t,e){return i*e}).attr("y",n+2*s).attr("width",i).attr("height",s).style("fill",function(e,a){return t[a*r]}),this.legenddata1.select("text").transition().attr("class","mono").text(function(t){return t}).attr("width",i).attr("x",function(t,e){return i*e}).attr("y",n+4*s),this.legenddata1enter.append("text").attr("class","mono").text(function(t){return t}).attr("width",i).attr("x",function(t,e){return i*e}).attr("y",n+4*s)},d3_chart2d.prototype.add_heatmapdata1datalist=function(){var t=this.tileid,e=this.heatmaporder,a=this.svgg,i=this.data1keymap.columnsindex,s=this.data1keymap.rowsindex,n=this.cellsize,r=this.columnleavesordered,l=this.rowleavesordered;d3.select("#"+t+"datalist").on("change",function(){e(n,this.value,s,i,l,r,a)})},d3_chart2d.prototype.set_heatmapdata1css=function(){var t="#"+this.id+" rect.selection",e={stroke:"#333","stroke-dasharray":"4px","stroke-opacity":"0.5",fill:"transparent"},a="#"+this.id+" rect.cell-border",i={stroke:"#eee","stroke-width":"0.3px"},s="#"+this.id+" rect.cell-selected",n={stroke:"rgb(51,102,153)","stroke-width":"0.5px"},r="#"+this.id+" rect.cell-hover",l={stroke:"#F00","stroke-width":"0.3px"},d="#"+this.id+" text.mono",o={"font-size":"10pt","font-family":"Consolas, courier",fill:"#aaa"},c=[{selection:t,style:e},{selection:a,style:i},{selection:s,style:n},{selection:r,style:l},{selection:d,style:o}];this.set_svggcss(c)},d3_chart2d.prototype.add_horizontalbars=function(){},d3_chart2d.prototype.add_horizontalerrorbars=function(){},d3_chart2d.prototype.set_linedata1=function(t){var e=this.data1keymap.xdata,a=this.data1keymap.ydata,i=this.x1scale,s=this.y1scale;this.linedata1generator=d3.svg.line().interpolate(t).x(function(t){return i(t[e])}).y(function(t){return s(t[a])})},d3_chart2d.prototype.set_linedata2=function(t){var e=this.data2keymap.xdata,a=this.data2keymap.ydata,i=this.x2scale,s=this.y2scale;this.linedata2generator=d3.svg.line().interpolate(t).x(function(t){return i(t[e])}).y(function(t){return s(t[a])})},d3_chart2d.prototype.add_linedata1=function(){var t=this.data1keymap.xdata,e=this.data1keymap.ydata,a=(this.data1keymap.serieslabel,this.x1scale),i=this.y1scale,s=this.colorscale,n=this.id,r=this.linedata1generator;this.linedata1=this.svgg.selectAll(".line").data(this.data1.nestdatafiltered),this.linedata1enter=this.linedata1.enter().append("g").attr("class","line"),this.linedata1enter.append("path").attr("class",n+"lineseries").attr("id",function(t,e){return n+"lineseries"+e.toString()}).style("stroke",function(t){return s(t.key)}),this.linedata1.select("path."+n+"lineseries").style("stroke",function(t){return s(t.key)}).transition().attr("d",function(t){return r(t.values)}),this.linedata1enter.append("text").attr("x",3).attr("dy",".35em"),this.linedata1.select("text").datum(function(t){return{values:t.values[t.values.length-1]}}).attr("transform",function(s){return"translate("+a(s.values[t])+","+i(s.values[e])+")"}).text(function(t){return t.key}),this.linedata1.exit().remove()},d3_chart2d.prototype.add_linedata1tooltipandstroke=function(){var t=(this.data1keymap.xdata,this.data1keymap.ydata,this.data1keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale),e=this.id;this.linedata1enter.on("mouseover",function(t){d3.select(this).style("stroke","black"),d3.select("#"+e+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#value").text("series_label: "+t.key),d3.select("#"+e+"tooltip").classed("hidden",!1)}).on("mouseout",function(a){d3.select(this).style("stroke",t(a.key)),d3.select("#"+e+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_linedata1onstroke=function(){{var t=(this.data1keymap.xdata,this.data1keymap.ydata,this.data1keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale);this.id}this.linedata1enter.on("mouseover",function(){d3.select(this).style("stroke","black")}).on("mouseout",function(e){d3.select(this).style("stroke",t(e.key))})},d3_chart2d.prototype.add_linedata1tooltip=function(){var t=(this.data1keymap.xdata,this.data1keymap.ydata,this.data1keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale,this.id);this.linedata1enter.on("mouseover",function(e){d3.select("#"+t+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#value").text("series_label: "+e.key),d3.select("#"+t+"tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select("#"+t+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_linedata1filter=function(){var t=this;this.linedata1enter.on("click",function(e){var a=[];t.data1.filters[series_label].forEach(function(t){t!==e.key&&a.push(t)}),t.data1.filters[series_label]=a,t.data1.filter_stringdata(),t.filterdata1and2&&(t.data2.filters[series_label]=a,t.data2.filter_stringdata()),t.render()})},d3_chart2d.prototype.add_linedata2=function(){var t=this.data2keymap.xdata,e=this.data2keymap.ydata,a=(this.data2keymap.serieslabel,this.x2scale),i=this.y2scale,s=this.colorscale,n=this.id,r=this.linedata2generator;this.linedata2=this.svgg.selectAll(".line").data(this.data2.nestdatafiltered),this.linedata2enter=this.linedata2.enter().append("g").attr("class","line"),this.linedata2enter.append("path").attr("class",n+"lineseries").attr("id",function(t,e){return n+"lineseries"+e.toString()}).style("stroke",function(t){return s(t.key)}),this.linedata2.select("path."+n+"lineseries").style("stroke",function(t){return s(t.key)}).transition().attr("d",function(t){return r(t.values)}),this.linedata2enter.append("text").attr("x",3).attr("dy",".35em"),this.linedata2.select("text").datum(function(t){return{values:t.values[t.values.length-1]}}).attr("transform",function(s){return"translate("+a(s.values[t])+","+i(s.values[e])+")"}).text(function(t){return t.key}),this.linedata2.exit().remove()},d3_chart2d.prototype.add_linedata2tooltipandstroke=function(){var t=(this.data2keymap.xdata,this.data2keymap.ydata,this.data2keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale),e=this.id;this.linedata2enter.on("mouseover",function(t){d3.select(this).style("stroke","black"),d3.select("#"+e+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#value").text("series_label: "+t.key),d3.select("#"+e+"tooltip").classed("hidden",!1)}).on("mouseout",function(a){d3.select(this).style("stroke",t(a.key)),d3.select("#"+e+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_linedata2onstroke=function(){{var t=(this.data2keymap.xdata,this.data2keymap.ydata,this.data2keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale);this.id}this.linedata2enter.on("mouseover",function(){d3.select(this).style("stroke","black")}).on("mouseout",function(e){d3.select(this).style("stroke",t(e.key))})},d3_chart2d.prototype.add_linedata2tooltip=function(){var t=(this.data2keymap.xdata,this.data2keymap.ydata,this.data2keymap.serieslabel,this.x1scale,this.y1scale,this.colorscale,this.id);this.linedata2enter.on("mouseover",function(e){d3.select("#"+t+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#value").text("series_label: "+e.key),d3.select("#"+t+"tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select("#"+t+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_linedata2filter=function(){var t=this.data2keymap.serieslabel,e=this;this.linedata2enter.on("click",function(a){var i=[];e.data2.filters[t].forEach(function(t){t!==a.key&&i.push(t)}),e.data2.filters[t]=i,e.data2.filter_stringdata(),e.filterdata1and2&&(e.data1.filters[t]=i,e.data1.filter_stringdata()),e.render()})},d3_chart2d.prototype.set_linestyle=function(){var t="path."+this.id+"lineseries",e={fill:"none","shape-rendering":"crispEdges","stroke-width":"1.5px"},a=[{selection:t,style:e}];this.set_svggcss(a)},d3_chart2d.prototype.add_pointsdata1onfill=function(){{var t=this.colorscale,e=this.data1keymap.serieslabel;this.id}this.pointsdata1enter.on("mouseover",function(){d3.select(this).style("fill","red")}).on("mouseout",function(a){d3.select(this).style("fill",t(a[e]))})},d3_chart2d.prototype.add_pointsdata1tooltip=function(){var t=(this.colorscale,this.data1keymap.serieslabel,this.data1keymap.xdata),e=this.data1keymap.ydata,a=this.id;this.pointsdata1enter.on("mouseover",function(i){d3.select("#"+a+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+a+"value").text("x: "+i[t].toFixed(2)+"; y: "+i[e].toFixed(2)),d3.select("#"+a+"tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select("#"+a+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_pointsdata1tooltipandfill=function(){var t=this.colorscale,e=this.data1keymap.serieslabel,a=this.data1keymap.xdata,i=this.data1keymap.ydata,s=this.id;this.pointsdata1enter.on("mouseover",function(t){d3.select(this).style("fill","red"),d3.select("#"+s+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+s+"value").text("x: "+t[a].toFixed(2)+"; y: "+t[i].toFixed(2)),d3.select("#"+s+"tooltip").classed("hidden",!1)}).on("mouseout",function(a){d3.select(this).style("fill",t(a[e])),d3.select("#"+s+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_pointsdata1seriesfilter=function(){var t=this.data1keymap.serieslabel,e=this;this.pointsdata1enter.on("click",function(a){var i=[];e.data1.filters[t].forEach(function(e){e!==a[t]&&i.push(e)}),e.data1.filters[t]=i,e.data1.filter_stringdata(),e.filterdata1and2&&(e.data2.filters[t]=i,e.data2.filter_stringdata()),e.render()})},d3_chart2d.prototype.add_pointsdata1featurefilter=function(){var t=this.data1keymap.featureslabel,e=this;this.pointsdata1enter.on("click",function(a){var i=[];e.data1.filters[t].forEach(function(e){e!==a[t]&&i.push(e)}),e.data1.filters[t]=i,e.data1.filter_stringdata(),e.filterdata1and2&&(e.data2.filters[t]=i,e.data2.filter_stringdata()),e.render()})},d3_chart2d.prototype.add_pointsdata1=function(){var t=this.data1keymap.xdata,e=this.data1keymap.ydata,a=this.data1keymap.serieslabel,i=this.x1scale,s=this.y1scale,n=this.colorscale,r=this.id;this.pointsdata1=this.svgg.selectAll(".points").data(this.data1.listdatafiltered),this.pointsdata1.transition().attr("cx",function(e){return i(e[t])}).attr("cy",function(t){return s(t[e])}).style("fill",function(t){return n(t[a])}),this.pointsdata1enter=this.pointsdata1.enter().append("circle").attr("class","points").attr("r",3.5).attr("id",function(t,e){return r+"point"+e.toString()}).attr("cx",function(e){return i(e[t])}).attr("cy",function(t){return s(t[e])}).style("fill",function(t){return n(t[a])}),this.pointsdata1.exit().remove()},d3_chart2d.prototype.add_pointsdata2=function(){},d3_chart2d.prototype.set_pointsstyle=function(){var t="#"+this.id+"points",e={stroke:"none"},a=[{selection:t,style:e}];this.set_svggcss(a)},d3_chart2d.prototype.set_treelayoutdata1root=function(t){this.treelayoutroot=t?t:this.data1.nestdatafiltered[0],this.treelayoutroot.x0=this.height/2,this.treelayoutroot.y0=0},d3_chart2d.prototype.set_treelayoutdata1nodeorigin=function(t){this.treelayoutnodeorigin=t},d3_chart2d.prototype.set_treelayoutdata1tree=function(){var t=this.height,e=this.width;this.treelayouttree=d3.layout.tree().size([t,e])},d3_chart2d.prototype.set_treelayoutdata1diagonal=function(){this.treelayoutdiagonal=d3.svg.diagonal().projection(function(t){return[t.y,t.x]})},d3_chart2d.prototype.collapse_treelayoutroot=function(){function t(e){e.children&&(e._children=e.children,e._children.forEach(t),e.children=null)}this.treelayoutroot.children.forEach(t)},d3_chart2d.prototype.set_treelayoutdata1nodes=function(){var t=this.treelayoutroot;this.treelayoutnodes=this.treelayouttree.nodes(t).reverse(),this.treelayoutnodes.forEach(function(t){t.y=180*t.depth})},d3_chart2d.prototype.set_treelayoutdata1links=function(){var t=this.treelayoutnodes;this.treelayoutlinks=this.treelayouttree.links(t)},d3_chart2d.prototype.add_treelayoutdata1node=function(t){var e=this.treelayoutnodeorigin,a=this.treelayoutnodes,i=t,s=this.togglechildren_treelayout,n=this,r=this.duration;this.treelayoutnode=this.svgg.selectAll("g.node").data(a,function(t){return t.id||(t.id=++e)}),this.set_treelayoutdata1nodeorigin(e),this.treelayoutnodeenter=this.treelayoutnode.enter().append("g").attr("class","node").attr("transform",function(){return"translate("+i.y0+","+i.x0+")"}).on("click",s(n)),this.treelayoutnodeenter.append("circle").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),this.treelayoutnodeenter.append("text").attr("x",function(t){return t.children||t._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(t){return t.children||t._children?"end":"start"}).text(function(t){return t.name}).style("fill-opacity",1e-6),this.treelayoutnodeupdate=this.treelayoutnode.transition().duration(r).attr("transform",function(t){return"translate("+t.y+","+t.x+")"}),this.treelayoutnodeupdate.select("circle").attr("r",4.5).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),this.treelayoutnodeupdate.select("text").style("fill-opacity",1),this.treelayoutnodeexit=this.treelayoutnode.exit().transition().duration(r).attr("transform",function(){return"translate("+i.y+","+i.x+")"}).remove(),this.treelayoutnodeexit.select("circle").attr("r",1e-6),this.treelayoutnodeexit.select("text").style("fill-opacity",1e-6)},d3_chart2d.prototype.add_treelayoutdata1link=function(t){var e=(this.treelayoutnodeorigin,this.treelayoutnodes,this.treelayoutlinks),a=t,i=this.duration,s=this.treelayoutdiagonal;this.treelayoutlink=this.svgg.selectAll("path.link").data(e,function(t){return t.target.id}),this.treelayoutlink.enter().insert("path","g").attr("class","link").attr("d",function(){var t={x:a.x0,y:a.y0};return s({source:t,target:t})}),this.treelayoutlink.transition().duration(i).attr("d",s),this.treelayoutlink.exit().transition().duration(i).attr("d",function(){var t={x:a.x,y:a.y};return s({source:t,target:t})}).remove()},d3_chart2d.prototype.save_treelayoutdata1positions=function(){this.treelayoutnodes.forEach(function(t){t.x0=t.x,t.y0=t.y})},d3_chart2d.prototype.togglechildren_treelayout=function(t){return function(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),t.render(e)}},d3_chart2d.prototype.set_treelayoutdata1css=function(){var t="#"+this.id+" .node",e={cursor:"pointer"},a="#"+this.id+" .node circle",i={fill:"#fff",stroke:"steelblue","stroke-width":"1.5px"},s="#"+this.id+" .node text",n={font:"10px sans-serif"},r="#"+this.id+" .link",l={fill:"none",stroke:"#ccc","stroke-width":"1.5px"},d=[{selection:t,style:e},{selection:a,style:i},{selection:s,style:n},{selection:r,style:l}];this.set_svggcss(d)},d3_chart2d.prototype.set_x1x2domain_verticalbarsplot=function(){var t=this.data1keymap.serieslabel,e=this.data1.nestdatafiltered,a=this.data1.listdatafiltered;this.x1scale.domain(e.map(function(t){return t.key}));var i=this.x1scale,s=this.get_uniquelabels(a,t);this.x2scale.domain(s).rangeRoundBands([0,i.rangeBand()])},d3_chart2d.prototype.add_verticalbarsdata1=function(){{var t=(this.data1keymap.xdata,this.data1keymap.ydata),e=this.data1keymap.serieslabel,a=this.x1scale,i=this.x2scale,s=this.y1scale,n=this.colorscale;this.id}this.barlabel=this.svgg.selectAll(".labels").data(this.data1.nestdatafiltered),this.barlabelenter=this.barlabel.enter().append("g").attr("class","labels").attr("transform",function(t){return"translate("+a(t.key)+",0)"}),this.barsrect=this.barlabel.selectAll(".bars").data(function(t){return t.values}),this.barsrect.exit().remove(),this.barsrect.transition().attr("width",i.rangeBand()).attr("x",function(t){return i(t[e])}).attr("y",function(e){return s(Math.max(e[t],0))}).attr("height",function(e){return Math.abs(s(e[t])-s(0))}).style("fill",function(t){return n(t[e])}),this.barsrectenter=this.barsrect.enter().append("rect").attr("class","bars"),this.barsrectenter.attr("width",i.rangeBand()).attr("x",function(t){return i(t[e])}).attr("y",function(e){return s(Math.max(e[t],0))}).attr("height",function(e){return Math.abs(s(e[t])-s(0))}).style("fill",function(t){return n(t[e])})},d3_chart2d.prototype.add_verticalbarsdata1tooltipandfill=function(){var t=this.colorscale,e=this.data1keymap.serieslabel,a=(this.data1keymap.featureslabel,this.data1keymap.ydata),i=this.data1keymap.ydatalb,s=this.data1keymap.ydataub,n=this.id;this.barsrectenter.on("mouseover",function(t){d3.select(this).style("fill","black"),d3.select("#"+n+"tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#"+n+"value").text(t[e]+": value: "+t[a].toFixed(2)+", 95% ci: "+t[i].toFixed(2)+"/"+t[s].toFixed(2)),d3.select("#"+n+"tooltip").classed("hidden",!1)}).on("mouseout",function(a){d3.select(this).style("fill",t(a[e])),d3.select("#"+n+"tooltip").classed("hidden",!0)})},d3_chart2d.prototype.add_verticalbarsdata1errorbars=function(){{var t=(this.data1keymap.xdata,this.data1keymap.ydata),e=this.data1keymap.ydatalb,a=this.data1keymap.ydataub,i=this.data1keymap.serieslabel,s=(this.x1scale,this.x2scale),n=this.y1scale;this.colorscale,this.id}this.barsublines=this.barlabel.selectAll(".ublines").data(function(t){return t.values}),this.barsublines.exit().remove(),this.barsublines.transition().attr("x1",function(t){return s(t[i])}).attr("x2",function(t){return s(t[i])+s.rangeBand()
}).attr("y1",function(t){return n(t[a])}).attr("y2",function(t){return n(t[a])}).style("stroke","black"),this.barsublinesenter=this.barsublines.enter().append("line").attr("class","ublines"),this.barsublinesenter.attr("x1",function(t){return s(t[i])}).attr("x2",function(t){return s(t[i])+s.rangeBand()}).attr("y1",function(t){return n(t[a])}).attr("y2",function(t){return n(t[a])}).style("stroke","black").style("stroke-width",function(e){return 0==e[t]?0:1}),this.barslblines=this.barlabel.selectAll(".lblines").data(function(t){return t.values}),this.barslblines.exit().remove(),this.barslblines.transition().attr("x1",function(t){return s(t[i])}).attr("x2",function(t){return s(t[i])+s.rangeBand()}).attr("y1",function(t){return n(t[e])}).attr("y2",function(t){return n(t[e])}).style("stroke","black").style("stroke-width",function(e){return 0==e[t]?0:1}),this.barslblinesenter=this.barslblines.enter().append("line").attr("class","lblines"),this.barslblinesenter.attr("x1",function(t){return s(t[i])}).attr("x2",function(t){return s(t[i])+s.rangeBand()}).attr("y1",function(t){return n(t[e])}).attr("y2",function(t){return n(t[e])}).style("stroke","black").style("stroke-width",function(e){return 0==e[t]?0:1}),this.barslbubconnector=this.barlabel.selectAll(".lbubconnector").data(function(t){return t.values}),this.barslbubconnector.exit().remove(),this.barslbubconnector.transition().attr("x1",function(t){return s(t[i])+.5*s.rangeBand()}).attr("x2",function(t){return s(t[i])+.5*s.rangeBand()}).attr("y1",function(t){return n(t[e])}).attr("y2",function(t){return n(t[a])}).style("stroke","black").style("stroke-width",function(e){return 0==e[t]?0:1}),this.barslbubconnectorenter=this.barslbubconnector.enter().append("line").attr("class","lbubconnector"),this.barslbubconnectorenter.attr("x1",function(t){return s(t[i])+.5*s.rangeBand()}).attr("x2",function(t){return s(t[i])+.5*s.rangeBand()}).attr("y1",function(t){return n(t[e])}).attr("y2",function(t){return n(t[a])}).style("stroke","black").style("stroke-width",function(e){return 0==e[t]?0:1})},d3_chart2d.prototype.set_x1andy1axesstyle_verticalbarsplot=function(){var t="#"+this.id+"x1axis path",e="#"+this.id+"y1axis path",a={fill:"none",display:"none"},i={fill:"none",stroke:"#000","shape-rendering":"crispEdges","stroke-width":"1.5px"},s=[{selection:t,style:a},{selection:e,style:i}];this.set_svggcss(s)};